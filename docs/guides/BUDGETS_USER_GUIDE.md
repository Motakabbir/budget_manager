# Budgets - User Guide

## Overview

The Budgets module helps you set spending limits for your expense categories and track your progress in real-time. Stay in control of your finances with visual progress indicators, automatic alerts, and comprehensive reporting.

## Key Features

- âœ… **Monthly & Yearly Budgets**: Set limits for different time periods
- âœ… **Real-time Tracking**: See spending vs budget instantly
- âœ… **Smart Alerts**: Get notified at 80% and 100% thresholds
- âœ… **Visual Progress Bars**: Color-coded indicators (green â†’ yellow â†’ red)
- âœ… **Category-based**: One budget per expense category per period
- âœ… **Dashboard Widget**: Quick overview on main dashboard
- âœ… **Sidebar Badge**: Always visible alert count

---

## Getting Started

### Accessing Budgets

1. Navigate to **Budgets** in the sidebar (ðŸ“Š PieChart icon)
2. You'll see the main dashboard with 4 statistics cards
3. Browse budgets by tabs: Monthly, Yearly, Exceeded, Warning

---

## Creating a Budget

### Step 1: Click "Add Budget"

Click the **"+ Add Budget"** button in the top-right corner.

### Step 2: Fill Out the Form

**Required Fields:**
- **Category**: Select an expense category
  - Only expense categories can have budgets
  - Cannot create multiple budgets for same category/period
- **Budget Amount**: Maximum amount to spend
  - Must be greater than $0
  - Decimal values allowed (e.g., $1,234.56)
- **Budget Period**: Choose frequency
  - **Monthly**: Budget resets on 1st of each month
  - **Yearly**: Budget resets on January 1st

### Step 3: Review Preview

The form shows a preview of your budget:
- Category name with color indicator
- Budget amount formatted
- Period type

### Step 4: Create

Click **"Create Budget"** to save.

---

## Managing Budgets

### Viewing Budget Details

Each budget card displays:
- **Category Name**: With color indicator dot
- **Period Badge**: Monthly or Yearly
- **Status Badge**: On Track / Warning / Exceeded
- **3 Amount Columns**:
  - Budget: Total limit set
  - Spent: Amount used so far
  - Remaining: Available funds
- **Progress Bar**: Visual indicator with percentage
- **Alert Messages**: Contextual warnings or encouragement

### Editing a Budget

1. Click the **â‹®** (three dots) menu on any budget card
2. Select **"Edit Budget"**
3. Modify the amount or period
4. Click **"Save Changes"**

**Note**: You cannot change the category for existing budgets.

### Deleting a Budget

1. Click the **â‹®** menu on the budget card
2. Select **"Delete Budget"**
3. Click again to confirm deletion

**Warning**: This removes the budget permanently. Historical spending data remains unchanged.

---

## Understanding Budget Status

### Status Types

**ðŸŸ¢ Safe (< 80%)**
- Green progress bar
- "On Track" badge
- Encouragement message
- You're managing spending well

**ðŸŸ¡ Warning (80-100%)**
- Yellow/orange progress bar
- "Warning" badge
- Shows remaining amount
- Alert: "Approaching Limit"

**ðŸ”´ Exceeded (> 100%)**
- Red progress bar
- "Exceeded" badge
- Shows overspending amount
- Alert: "Budget Exceeded!"

---

## Budget Alerts

### Automatic Notifications

The system automatically monitors your budgets and shows alerts when:
- You reach **80%** of your budget (Warning)
- You exceed **100%** of your budget (Exceeded)

**Alert Features:**
- Toast notifications appear once per threshold
- 24-hour cooldown to prevent spam
- Shows category name and specific details
- Actionable links to Budgets page

### Sidebar Badge

The "Budgets" menu item shows a red badge with:
- Count of budgets needing attention
- Updates in real-time
- Shows "9+" for counts over 9

### Dashboard Widget

The BudgetAlertsWidget on your dashboard displays:
- **All Clear**: Green icon, positive message
- **Issues**: Orange border, list of problem budgets
- Up to 3 budgets with progress bars
- Click to view all budgets

---

## Statistics Dashboard

### 4 Key Metrics

1. **Monthly Budget**
   - Total budget amount for current month
   - Sum of all monthly budgets

2. **Total Spent**
   - Amount spent across all budgets
   - Percentage of total budget used
   - Red text if concerning

3. **Remaining**
   - Total available funds
   - Green text to encourage saving
   - Shows how much you can still spend

4. **Status Overview**
   - Breakdown by status:
     - Exceeded count (red)
     - Warning count (yellow)
     - Safe count (green)

---

## Budget Periods Explained

### Monthly Budgets

**How It Works:**
- Budget applies to current calendar month
- Resets automatically on the 1st of each month
- Spending tracked from 1st to last day of month

**Best For:**
- Groceries
- Dining Out
- Entertainment
- Gas/Transportation
- Utilities

**Example:**
- Budget: $500 for "Groceries"
- Period: Monthly
- Tracks spending from Oct 1-31, Nov 1-30, etc.

### Yearly Budgets

**How It Works:**
- Budget applies to current calendar year
- Resets automatically on January 1st
- Spending tracked from Jan 1 to Dec 31

**Best For:**
- Insurance
- Property Taxes
- Annual Subscriptions
- Vacation/Travel
- Holiday Gifts

**Example:**
- Budget: $6,000 for "Vacation"
- Period: Yearly
- Tracks spending from Jan 1 - Dec 31

---

## Tab Organization

### Monthly Tab

Shows all budgets with **Monthly** period:
- Grid layout (3 columns on desktop)
- Sorted by creation date
- Empty state with CTA if none exist

### Yearly Tab

Shows all budgets with **Yearly** period:
- Same grid layout as monthly
- Long-term budget tracking
- Empty state with helpful message

### Exceeded Tab

Shows only budgets **over 100%**:
- Critical attention needed
- Red alerts and indicators
- Success message if none exceeded

### Warning Tab

Shows only budgets **at 80-100%**:
- Needs monitoring
- Yellow/orange indicators
- Success message if all clear

---

## Common Use Cases

### 1. Household Monthly Budget

**Groceries:**
- Category: Groceries
- Amount: $600
- Period: Monthly

**Dining Out:**
- Category: Dining/Restaurants
- Amount: $200
- Period: Monthly

**Entertainment:**
- Category: Entertainment
- Amount: $150
- Period: Monthly

### 2. Annual Expenses

**Car Insurance:**
- Category: Insurance
- Amount: $1,200
- Period: Yearly

**Property Taxes:**
- Category: Taxes
- Amount: $4,000
- Period: Yearly

### 3. Discretionary Spending

**Shopping:**
- Category: Shopping
- Amount: $300
- Period: Monthly

**Hobbies:**
- Category: Hobbies
- Amount: $100
- Period: Monthly

---

## Tips & Best Practices

### 1. Start Conservative

Set slightly lower budgets initially:
- Easier to increase than decrease
- Helps identify spending patterns
- Builds discipline

### 2. Review Monthly

Check your budgets regularly:
- Adjust based on actual spending
- Account for seasonal changes
- Remove unused budgets

### 3. Use Both Periods

Combine monthly and yearly budgets:
- Monthly for recurring expenses
- Yearly for infrequent large expenses
- Better overall financial picture

### 4. Category Organization

Create specific categories:
- Split "Food" into Groceries and Dining
- Separate "Shopping" into Clothing, Electronics, etc.
- More granular tracking = better insights

### 5. Set Realistic Goals

Base budgets on actual data:
- Review past 3 months of spending
- Add 10-15% buffer for flexibility
- Adjust gradually over time

### 6. Monitor Dashboard Widget

Check the BudgetAlertsWidget daily:
- Quick overview without navigating
- Catch issues early
- Stay aware of spending

### 7. Act on Warnings

When you see warning alerts:
- Review category spending
- Identify unnecessary expenses
- Adjust behavior before exceeding

---

## Troubleshooting

### Budget Not Updating

**Possible Causes:**
- Recent transaction not yet synced
- Transaction in different category
- Transaction date outside period

**Solution:**
- Refresh the page
- Verify transaction category
- Check transaction date

### Wrong Budget Amount Showing

**Possible Causes:**
- Edited budget mid-period
- Calculation includes wrong date range

**Solution:**
- Budget edits don't affect past spending
- Only current period spending counts
- Check period type (monthly vs yearly)

### Alerts Not Showing

**Possible Causes:**
- Alerts already shown (24-hour cooldown)
- localStorage tracking preventing duplicates
- No budgets exceed thresholds

**Solution:**
- Alerts only show once per threshold
- Check localStorage: `budget-alerts-shown`
- Navigate to Budgets page to see all

### Multiple Alerts at Once

**Possible Causes:**
- First time loading after exceeding multiple budgets
- Cleared alert history

**Solution:**
- Normal behavior for first load
- Alerts won't repeat for 24 hours
- Close toasts or wait for auto-dismiss

---

## Keyboard Shortcuts

When on Budgets page:
- **`E`**: Edit first budget (if available)
- **`D`**: Delete first budget (if available)
- **`Tab`**: Navigate between tabs
- **`Esc`**: Close dialogs

---

## Mobile Experience

The Budgets interface is fully responsive:
- **Mobile**: Single column layout
- **Tablet**: 2-column grid
- **Desktop**: 3-column grid

All features work seamlessly on mobile:
- Tap cards to see details
- Swipe-friendly dialogs
- Touch-optimized buttons

---

## Integration with Other Features

### Categories

Budgets require expense categories:
- Create categories first
- Cannot budget income categories
- One budget per category per period

### Transactions

All expense transactions affect budgets:
- Manual entries
- Recurring transactions
- Card/account-linked expenses

### Dashboard

Budget status shows on main dashboard:
- BudgetAlertsWidget
- Quick access to issues
- Real-time updates

---

## FAQ

**Q: Can I have multiple budgets for the same category?**  
A: Yes, but only if they're different periods (one monthly, one yearly).

**Q: What happens if I delete a category with a budget?**  
A: The database prevents deletion of categories with active budgets. Delete the budget first.

**Q: Can I set budgets for income categories?**  
A: No, budgets are for expense categories only to help control spending.

**Q: Do budgets carry over unused amounts?**  
A: No, budgets reset completely each period. Unused budget does not roll over.

**Q: How are percentages calculated?**  
A: (Spent Ã· Budget) Ã— 100. Values over 100% indicate overspending.

**Q: Can I pause a budget temporarily?**  
A: Not directly, but you can increase the budget amount or delete it temporarily.

**Q: What if I edit a budget mid-month?**  
A: The new amount applies immediately. Past spending remains unchanged.

**Q: How do I see historical budget performance?**  
A: Currently, budgets only show current period. Historical reporting is a future feature.

---

## Related Features

- **Categories**: Manage expense categories
- **Expenses**: View all expense transactions
- **Dashboard**: Overview of financial health
- **Recurring**: Set up automatic recurring expenses

---

## Need Help?

If you encounter issues:
1. Check the **Troubleshooting** section above
2. Review the **FAQ** for common questions
3. Refer to the **Technical Documentation** for advanced details

---

**Last Updated**: October 31, 2025  
**Version**: 1.0.0  
**Module**: Budgets
